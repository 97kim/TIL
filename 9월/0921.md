SSRì„ ì´ìš©í•˜ëŠ” Django, Flask, Spring í”„ë ˆì„ì›Œí¬ë“¤ì„ ì‚¬ìš©í•´ë³´ë©´ì„œ HTML í…œí”Œë¦¿ ì—”ì§„ì€ ì •ë§ í¸í•œ ê²ƒ ê°™ë‹¤. ê°œë°œì˜ ìƒì‚°ì„±ë„ ë†’ì—¬ì£¼ê³  ë¬´ì—‡ë³´ë‹¤ ê°œë°œìì˜ ìˆ˜ê³ ë¡œì›€ì„ í™• ì¤„ì—¬ì£¼ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì´ ì‚¬ìš©í•˜ë‚˜ ë³´ë‹¤.


## jinja2
jinja2ëŠ” HTML í…œí”Œë¦¿ ì—”ì§„ì´ë‹¤. Flaskë¥¼ ì„¤ì¹˜í•˜ë©´ ê°™ì´ ì„¤ì¹˜ë˜ì–´ì„œ ë”°ë¡œ ì„¤ì¹˜ë¥¼ ì•ˆ í•´ì¤˜ë„ ëœë‹¤.

>**ì°¸ê³ **
íŒŒì´ì°¸ Preferences(Settings)ì— Languages & Frameworksì˜ Template Languageë¥¼ jinja2ë¡œ ì„¤ì •í•´ì£¼ë©´ ìë™ì™„ì„±ê³¼ highliting ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
![](https://images.velog.io/images/rudwnd33/post/cc8a5dbc-0240-409c-9c00-5e8441b88e96/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-09-20%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%202.46.32.png)


[Owlbot Dictionary API](https://owlbot.info/)ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•˜ëŠ”ë° ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Tokenì„ ë°›ì•„ì•¼ í•œë‹¤. ì‚¬ì´íŠ¸ì—ì„œ Get a token ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì…ë ¥í•œ ì´ë©”ì¼ë¡œ Token ë²ˆí˜¸ê°€ ì˜¨ë‹¤.

```
@app.route('/detail/<keyword>')
def detail(keyword):
    r = requests.get(f"https://owlbot.info/api/v4/dictionary/{keyword}", headers={"Authorization": "Token [ì´ë©”ì¼ë¡œ ë°›ì€ í† í°]"})
    result = r.json()
    print(result)
    return render_template("detail.html", word=keyword)
```

<br>

### jinja2 ë³€ìˆ˜ ì²˜ë¦¬
ì˜ˆë¥¼ ë“¤ì–´ urlì— /detail/apple ì´ë¼ëŠ” ì£¼ì†Œë¡œ ìš”ì²­ì´ ë³´ë‚´ì§€ë©´ appleì´ë¼ëŠ” ë¬¸ìì—´ì´ word ë³€ìˆ˜ì— ë‹´ê²¨ detail.htmlë¡œ ë³´ë‚¸ë‹¤.

detail.htmlì€ word ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ
```
 <h2>ë°›ì€ ë‹¨ì–´ëŠ” {{ word }}</h2>
```
**{{ ë³€ìˆ˜ }}** ì´ëŸ° ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

<br>

### jinja2 ì—°ì‚°
ë§Œì•½ì— htmlì—ì„œ jinja2 í…œí”Œë¦¿ ì—”ì§„ìœ¼ë¡œ ì¡°ê±´ë¬¸ì´ë‚˜ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´
```
{% set test = [1, 2, 3, 4, 5] %}
    {% for t in test  %}
        {% if word == "hi" %}
        	<h2>{{ t }}</h2>
        {% endif %}
    {% endfor %}
```
ì´ëŸ° ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì—°ì‚°ì€ **{{ }}** ëŒ€ì‹ ì— **{% %}**ì„ ì‚¬ìš©í•œë‹¤.
forë‚˜ ifê°€ ëë‚˜ë©´ endfor, endif ì´ë ‡ê²Œ í‘œì‹œí•œë‹¤.


> **localhost:5000/detail/hi**
![](https://images.velog.io/images/rudwnd33/post/a726cfb2-c452-40e7-ab92-b6515dc007e5/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-09-20%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%203.09.16.png)

<br>

### jinja2 í•„í„°
jinja2 í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•  ë•Œ {{ }} ì•ˆì— ë³€ìˆ˜ ë‹¤ìŒì— íŒŒì´í”„(|) ê¸°í˜¸ê°€ ì˜¬ ìˆ˜ ìˆë‹¤. í•„í„°ë¥¼ ì‚¬ìš©í•  ë•Œ ì´ íŒŒì´í”„ ê¸°í˜¸ë¡œ êµ¬ë¶„í•œë‹¤.

ë³€ìˆ˜ í•„í„°ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆëŠ”ë° ê·¸ ì¤‘ ëª‡ ê°€ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
> **safe** : ìë™ ì´ìŠ¤ì¼€ì´í”„ê°€ í™œì„±í™”ëœ í™˜ê²½ì—ì„œ ì´ ë³€ìˆ˜ê°€ ì´ìŠ¤ì¼€ì´í”„ ë˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ìŠ¤ì¼€ì´í”„ - ì˜ˆë¥¼ ë“¤ì–´ < ë¥¼ &l t; ë¡œ ë³€í™˜ì‹œì¼œ HTMLë¡œ ëª» ì½ê²Œ í•˜ëŠ” ê²ƒ
**capitalize** : ì²« ë²ˆì§¸ ë¬¸ìëŠ” ëŒ€ë¬¸ìì´ê³  ë‚˜ë¨¸ì§€ëŠ” ëª¨ë‘ ì†Œë¬¸ì
**lower** : ì†Œë¬¸ìë¡œ ë³€í™˜
**upper** : ëŒ€ë¬¸ìë¡œ ë³€í™˜
**title** : ê°’ì˜ ê° ë‹¨ì–´ë“¤ì„ capitalize í•œë‹¤.
**trim** : ê¸°ë³¸ì ìœ¼ë¡œ ê³µë°± ë¬¸ìë¥¼ ì œê±°í•œë‹¤.
**striptags** : SGML/XML, HTML íƒœê·¸ë¥¼ ì œê±°í•˜ê³  ì¸ì ‘í•œ ê³µë°±ì„ í•˜ë‚˜ì˜ ê³µë°±ìœ¼ë¡œ ë°”ê¾¼ë‹¤.

ì´ì™¸ í•„í„°ëŠ” [ê³µì‹ ë¬¸ì„œ](https://jinja.palletsprojects.com/en/2.11.x/templates/#builtin-filters) ì°¸ê³ 

![](https://images.velog.io/images/rudwnd33/post/b3047b21-1cd4-4b57-b86b-709b1b8b7948/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-09-21%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%203.10.09.png)
íšŒìƒ‰ ê¸€ì”¨ë¥¼ ë³´ë©´ íŠ¹ìˆ˜ë¬¸ìë¡œ ê¹¨ì ¸ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

```
{{ ë³€ìˆ˜.encode('ascii', 'ignore').decode('utf-8')|safe }}
```
ASCIIë¡œ ì¸ì½”ë”©í•˜ëŠ”ë° ASCIIë¡œ ì¸ì½”ë”©í•  ìˆ˜ ì—†ëŠ” ì• ë“¤ì€ ë¬´ì‹œí•˜ê³ , ê·¸ í›„ì— ë‹¤ì‹œ utf-8ë¡œ ë””ì½”ë”©í•˜ëŠ” ì½”ë“œë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ê¹¨ì§„ íŠ¹ìˆ˜ë¬¸ìê°€ ì‚¬ë¼ì§„ë‹¤.

![](https://images.velog.io/images/rudwnd33/post/a3f53845-b22c-4b21-a32f-44cc573ed050/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-09-21%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%203.23.50.png)

### jinja2ë¥¼ ì‚¬ìš©í•˜ê³  ëŠë‚€ì 
ì¼ë‹¨ DTL(Django Template Language)ì´ë‘ í¬ê²Œ ë‹¤ë¥´ë‹¤ê³  ëŠê»´ì§€ì§€ ì•Šì•„ì„œ ì–´ìƒ‰í•˜ì§€ ì•Šì•˜ë‹¤. ë¬¼ë¡  ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ì—ì„œ HTML í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•´ë´¤ë‹¤ë©´ í¬ê²Œ ì–´ë ¤ì›€ì´ ì—†ì„ ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. ê·¸ë¦¬ê³  ì¤‘ë³µ ë˜ëŠ” ì½”ë“œë„ ì¤„ì–´ë“  ê±° ê°™ë‹¤. HTMLì—ì„œ ì—°ì‚° ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²Œ ì–¼ë§ˆë‚˜ í–‰ë³µí•œì§€... ğŸ˜Œ


## Flask - request.args.get
urlì— localhost:5000/detail/hi**?status_give=new**
ì´ë ‡ê²Œ ?key=value í˜•íƒœë¡œ ë˜ì–´ ìˆì„ ë•Œ keyì˜ value ê°’ì„ ë¶ˆëŸ¬ì™€ ë³€ìˆ˜ì— ì €ì¥í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤. ì´ëŸ´ ë•ŒëŠ” **request.args.get()**ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

localhost:5000/detail/hi**?status_give=new** ì´ëŸ° ìš”ì²­ì´ ì™”ì„ ë•Œ
```
status_receive = request.args.get("status_give")
```
ì´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ new(ë¬¸ìì—´)ë¼ëŠ” valueê°€ status_receive ë³€ìˆ˜ì— ë‹´ê¸°ê²Œ ëœë‹¤.

