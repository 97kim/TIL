어제 TIL에 작성한 백엔드, 프론트엔드 분리 작업을 진행하면서 발생했던 이슈다.

AWS S3에 올린 거를 AWS CloudFront와 연결해 정적 웹 호스팅을 사용할 수 있다.
그래서 S3에 올린 파일에 수정 사항이 생겨 수정 후 다시 업로드했다.

업로드 후에 Cloudfront 배포 도메인 주소로 접속해봤지만 수정 된 사항이 적용되지 않았다. 왜일까... 크롬에서 강력 새로고침(컨트롤/커맨드 + 쉬프트 + r)을 계속 눌러봤지만 바뀌는 게 없었다. 그래서 수정 사항이 반영되는데 시간이 좀 걸리나 보다 생각했다.

근데 기다리는 건 못 참지~~!! 수정 된 걸 빨리 보고 싶어!!
인터넷에서 Cloudfront 캐시 무효화(삭제)하는 것을 찾아보았다.

> aws 문서도 친히 있었다. 이걸 몰랐네... https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html

![](https://images.velog.io/images/rudwnd33/post/e09a97cd-56f8-403b-a3b9-f7d94f99ab17/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-06%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.27.06.png)

Cloudfront에 들어가 내가 사용한 배포를 클릭한다.
'무효화'라는 메뉴가 있는데 클릭 후 무효화 생성 버튼을 누른다.

![](https://images.velog.io/images/rudwnd33/post/2c727d60-8083-4a73-b448-29796e387696/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-06%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.27.21.png)

객체 경로를 지정해 원하는 파일만 캐시를 삭제할 수 있고 와일드카드(\*)를 사용해 전부 삭제할 수도 있다. 나는 캐시 전부를 삭제해도 상관 없었기 때문에 /*를 사용했다.

무효화를 하고 다시 배포 도메인에 들어가 보니 수정 사항이 반영 됐다!!